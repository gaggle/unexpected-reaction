
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
    <link rel="stylesheet" href="../../../static/normalize.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../static/main.css" type="text/css" media="screen" />
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../../static/bug-icon-black.ico">
    <title>DOMElement - with event</title>
</head>
<body class="sidebar-hidden has-sidebar">
    <header>
        <div class="logo-icon"></div>
        <nav>
            <ul>
                <li class="menu-toggle-item">
                    <button class="menu-toggle" onclick="toggleSidebar()"></button>
                </li>
                
                <li class=""><a href="../../../">unexpected-reaction</a></li>
                
                
                <li class="active"><a href="../to-contain/">Assertions</a></li>
                
                
                
                <li class=""><a href="../../../example/">Example</a></li>
                
            </ul>
        </nav>
        <div class="search" style="visibility: hidden">
            <input id="search" placeholder="Search..." value="">
            <div id="searchDropDown" class="dropDown">
                <ul id="searchResults"></ul>
            </div>
        </div>
    </header>

<section id="assertions">
    <nav id="assertion-menu" class="sidebar js-remember-scroll-position">
    
        <h3 class=""><a href="../">DOMElement</a></h3>
        <ul>
            
            <li class="">
                <a href="../to-contain/">to contain</a>
            </li>
            
            <li class="">
                <a href="../to-satisfy/">to satisfy</a>
            </li>
            
            <li class="active">
                <a href="./">with event</a>
            </li>
            
        </ul>
    
        <h3 class=""><a href="../../ReactElement/">ReactElement</a></h3>
        <ul>
            
            <li class="">
                <a href="../../ReactElement/when-mounted/">when mounted</a>
            </li>
            
        </ul>
    
</nav>

    <div class="main" tabindex="-1">
        <div class="content">
            <h1>with event</h1>
            
                <ul class="declarations">
                
                    <li>&lt;DOMElement&gt; with (event|events) &lt;array|object|string&gt; &lt;assertion?&gt;</li>
                
                </ul>
            
            <p>An assertion that will issue one or more events on the given element and forward
it to the next assertion.</p>
<p>You can either provide a single event or an array of events that should be
triggers on the component. An event have the following form:</p>
<div class="code lang-javascript"><div><span style="color: #000000">{</span></div><div>&nbsp;&nbsp;type<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">'change'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #969896">//&nbsp;The&nbsp;event&nbsp;type</span></div><div>&nbsp;&nbsp;value<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">'My&nbsp;value'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #969896">//&nbsp;will&nbsp;be&nbsp;set&nbsp;on&nbsp;target&nbsp;when&nbsp;specified</span></div><div>&nbsp;&nbsp;target<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">'input'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #969896">//&nbsp;an&nbsp;optional&nbsp;CSS&nbsp;selector&nbsp;specifying&nbsp;the&nbsp;target</span></div><div><span style="color: #000000">}</span></div></div><p>You can also specify event data for
<a href="https://reactjs.org/docs/test-utils.html#simulate">Simulate</a>:</p>
<div class="code lang-javascript"><div><span style="color: #000000">{</span></div><div>&nbsp;&nbsp;type<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;keyDown&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;target<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;input&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;data<span style="color: #000000">:</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;keyCode<span style="color: #000000">:</span>&nbsp;<span style="color: #0086b3">13</span></div><div>&nbsp;&nbsp;<span style="color: #000000">}</span></div><div><span style="color: #000000">}</span></div></div><p>If you don&#39;t specify a target, the event will be issued on the root element of
the given component.</p>
<p>I case you just want to specify the type, you can just give a string instead of
an event object:</p>
<div class="code lang-javascript"><div><span style="color: #a71d5d">const</span>&nbsp;React&nbsp;<span style="color: #a71d5d">=</span>&nbsp;<span style="color: #000000">require</span><span style="color: #000000">(</span><span style="color: #df5000">&quot;react&quot;</span><span style="color: #000000">);</span></div><div>expect&nbsp;<span style="color: #a71d5d">=</span>&nbsp;unexpected<span style="color: #000000">.</span><span style="color: #000000">use</span><span style="color: #000000">(</span><span style="color: #000000">require</span><span style="color: #000000">(</span><span style="color: #df5000">&quot;unexpected-sinon&quot;</span><span style="color: #000000">));</span></div><div><span style="color: #a71d5d">const</span>&nbsp;sinon&nbsp;<span style="color: #a71d5d">=</span>&nbsp;<span style="color: #000000">require</span><span style="color: #000000">(</span><span style="color: #df5000">&quot;sinon&quot;</span><span style="color: #000000">);</span></div><div>&nbsp;</div><div><span style="color: #a71d5d">let</span>&nbsp;onClick&nbsp;<span style="color: #a71d5d">=</span>&nbsp;sinon<span style="color: #000000">.</span><span style="color: #000000">spy</span><span style="color: #000000">();</span></div><div>&nbsp;</div><div><span style="color: #000000">expect</span><span style="color: #000000">(</span></div><div>&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>button&nbsp;onClick<span style="color: #a71d5d">=</span><span style="color: #000000">{</span>onClick<span style="color: #000000">}</span><span style="color: #a71d5d">&gt;</span>Click&nbsp;me<span style="color: #a71d5d">!&lt;/</span>button<span style="color: #a71d5d">&gt;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;<span style="color: #df5000">'when&nbsp;mounted'</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;<span style="color: #df5000">'with&nbsp;event'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #df5000">'click'</span></div><div><span style="color: #000000">);</span></div><div>&nbsp;</div><div><span style="color: #000000">expect</span><span style="color: #000000">(</span>onClick<span style="color: #000000">,</span>&nbsp;<span style="color: #df5000">'to&nbsp;have&nbsp;calls&nbsp;satisfying'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #000000">()</span>&nbsp;<span style="color: #a71d5d">=&gt;</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;<span style="color: #000000">onClick</span><span style="color: #000000">(</span>expect<span style="color: #000000">.</span><span style="color: #000000">it</span><span style="color: #000000">(</span><span style="color: #df5000">'to&nbsp;satisfy'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #000000">{</span>type<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">'click'</span><span style="color: #000000">}))</span></div><div><span style="color: #000000">});</span></div></div><p>Let&#39;s use a sign-up form for the example:</p>
<div class="code lang-javascript"><div><span style="color: #a71d5d">class</span>&nbsp;SignUpForm&nbsp;<span style="color: #a71d5d">extends</span>&nbsp;React<span style="color: #000000">.</span>Component&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;<span style="color: #000000">constructor</span><span style="color: #000000">(</span>props<span style="color: #000000">)</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">super</span><span style="color: #000000">();</span></div><div>&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">this</span><span style="color: #000000">.</span>state&nbsp;<span style="color: #a71d5d">=</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;username<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;password<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showValidation<span style="color: #000000">:</span>&nbsp;<span style="color: #0086b3">false</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">};</span></div><div>&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">this</span><span style="color: #000000">.</span><span style="color: #000000">onUsernameChange</span>&nbsp;<span style="color: #a71d5d">=</span>&nbsp;e&nbsp;<span style="color: #a71d5d">=&gt;</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">this</span><span style="color: #000000">.</span><span style="color: #000000">setState</span><span style="color: #000000">({</span>&nbsp;username<span style="color: #000000">:</span>&nbsp;e<span style="color: #000000">.</span>target<span style="color: #000000">.</span>value<span style="color: #000000">,</span>&nbsp;showValidation<span style="color: #000000">:</span>&nbsp;<span style="color: #0086b3">false</span>&nbsp;<span style="color: #000000">});</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">};</span></div><div>&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">this</span><span style="color: #000000">.</span><span style="color: #000000">onPasswordChange</span>&nbsp;<span style="color: #a71d5d">=</span>&nbsp;e&nbsp;<span style="color: #a71d5d">=&gt;</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">this</span><span style="color: #000000">.</span><span style="color: #000000">setState</span><span style="color: #000000">({</span>&nbsp;password<span style="color: #000000">:</span>&nbsp;e<span style="color: #000000">.</span>target<span style="color: #000000">.</span>value<span style="color: #000000">,</span>&nbsp;showValidation<span style="color: #000000">:</span>&nbsp;<span style="color: #0086b3">false</span>&nbsp;<span style="color: #000000">});</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">};</span></div><div>&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">this</span><span style="color: #000000">.</span><span style="color: #000000">onSubmit</span>&nbsp;<span style="color: #a71d5d">=</span>&nbsp;<span style="color: #000000">()</span>&nbsp;<span style="color: #a71d5d">=&gt;</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">const</span>&nbsp;<span style="color: #000000">{</span>&nbsp;username<span style="color: #000000">,</span>&nbsp;password&nbsp;<span style="color: #000000">}</span>&nbsp;<span style="color: #a71d5d">=</span>&nbsp;<span style="color: #a71d5d">this</span><span style="color: #000000">.</span>state<span style="color: #000000">;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">if</span>&nbsp;<span style="color: #000000">(</span>username&nbsp;<span style="color: #a71d5d">&amp;&amp;</span>&nbsp;password<span style="color: #000000">.</span>length&nbsp;<span style="color: #a71d5d">&gt;=</span>&nbsp;<span style="color: #0086b3">8</span><span style="color: #000000">)</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;props<span style="color: #000000">.</span><span style="color: #000000">onSubmit</span><span style="color: #000000">({</span>&nbsp;username<span style="color: #000000">,</span>&nbsp;password&nbsp;<span style="color: #000000">});</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">}</span>&nbsp;<span style="color: #a71d5d">else</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">this</span><span style="color: #000000">.</span><span style="color: #000000">setState</span><span style="color: #000000">({</span>&nbsp;showValidation<span style="color: #000000">:</span>&nbsp;<span style="color: #0086b3">true</span>&nbsp;<span style="color: #000000">});</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">}</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">};</span></div><div>&nbsp;&nbsp;<span style="color: #000000">}</span></div><div>&nbsp;</div><div>&nbsp;&nbsp;<span style="color: #000000">render</span><span style="color: #000000">()</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">const</span>&nbsp;<span style="color: #000000">{</span>&nbsp;password<span style="color: #000000">,</span>&nbsp;showValidation<span style="color: #000000">,</span>&nbsp;username&nbsp;<span style="color: #000000">}</span>&nbsp;<span style="color: #a71d5d">=</span>&nbsp;<span style="color: #a71d5d">this</span><span style="color: #000000">.</span>state<span style="color: #000000">;</span></div><div>&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">return</span>&nbsp;<span style="color: #000000">(</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>form&nbsp;data<span style="color: #a71d5d">-</span>test<span style="color: #a71d5d">-</span>id<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;login&quot;</span><span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>fieldset<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>label&nbsp;htmlFor<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;username&quot;</span><span style="color: #a71d5d">&gt;</span>Username<span style="color: #000000">:</span><span style="color: #a71d5d">&lt;/</span>label<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>input</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;username&quot;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onChange<span style="color: #a71d5d">=</span><span style="color: #000000">{</span><span style="color: #a71d5d">this</span><span style="color: #000000">.</span>onUsernameChange<span style="color: #000000">}</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value<span style="color: #a71d5d">=</span><span style="color: #000000">{</span>username<span style="color: #000000">}</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">/&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">{</span>showValidation&nbsp;<span style="color: #a71d5d">&amp;&amp;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">!</span>username&nbsp;<span style="color: #a71d5d">&amp;&amp;</span>&nbsp;<span style="color: #000000">(</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>span&nbsp;className<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;validation&quot;</span><span style="color: #a71d5d">&gt;</span>Username&nbsp;is&nbsp;required<span style="color: #000000">.</span><span style="color: #a71d5d">&lt;/</span>span<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">)}</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;/</span>fieldset<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>fieldset<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>label&nbsp;htmlFor<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;password&quot;</span><span style="color: #a71d5d">&gt;</span>Password<span style="color: #000000">:</span><span style="color: #a71d5d">&lt;/</span>label<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>input</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;password&quot;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;password&quot;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onChange<span style="color: #a71d5d">=</span><span style="color: #000000">{</span><span style="color: #a71d5d">this</span><span style="color: #000000">.</span>onPasswordChange<span style="color: #000000">}</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value<span style="color: #a71d5d">=</span><span style="color: #000000">{</span>password<span style="color: #000000">}</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">/&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">{</span>showValidation&nbsp;<span style="color: #a71d5d">&amp;&amp;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;password<span style="color: #000000">.</span>length&nbsp;<span style="color: #a71d5d">&lt;</span>&nbsp;<span style="color: #0086b3">8</span>&nbsp;<span style="color: #a71d5d">&amp;&amp;</span>&nbsp;<span style="color: #000000">(</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>span&nbsp;className<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;validation&quot;</span><span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Password&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;<span style="color: #0086b3">8</span>&nbsp;characters<span style="color: #000000">.</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;/</span>span<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">)}</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;/</span>fieldset<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>button&nbsp;onClick<span style="color: #a71d5d">=</span><span style="color: #000000">{</span><span style="color: #a71d5d">this</span><span style="color: #000000">.</span>onSubmit<span style="color: #000000">}</span><span style="color: #a71d5d">&gt;</span>Sign&nbsp;up<span style="color: #a71d5d">&lt;/</span>button<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;/</span>form<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">);</span></div><div>&nbsp;&nbsp;<span style="color: #000000">}</span></div><div><span style="color: #000000">}</span></div></div><p>Let&#39;s start by checking that we can successfully submit the form.</p>
<p>We will use <a href="https://sinonjs.org/">sinon</a> and
<a href="http://unexpected.js.org/unexpected-sinon/">unexpected-sinon</a> to spy on the
submit function.</p>
<p>Then we will use the <code>with events</code> assertion to fill out the username and
password and click on the submit button.</p>
<p>Finally we will check that the <code>onSubmit</code> function was called with the expected
values.</p>
<div class="code lang-javascript"><div><span style="color: #a71d5d">let</span>&nbsp;onSubmit&nbsp;<span style="color: #a71d5d">=</span>&nbsp;sinon<span style="color: #000000">.</span><span style="color: #000000">spy</span><span style="color: #000000">();</span></div><div>&nbsp;</div><div><span style="color: #000000">expect</span><span style="color: #000000">(</span></div><div>&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>SignUpForm&nbsp;onSubmit<span style="color: #a71d5d">=</span><span style="color: #000000">{</span>onSubmit<span style="color: #000000">}</span>&nbsp;<span style="color: #a71d5d">/&gt;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;<span style="color: #df5000">&quot;when&nbsp;mounted&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;<span style="color: #df5000">&quot;with&nbsp;events&quot;</span><span style="color: #000000">,</span>&nbsp;<span style="color: #000000">[</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;change&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;[name=username]&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;Sune&nbsp;Simonsen&quot;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">},</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;change&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;[name=password]&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;Secret...&quot;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">},</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;click&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;button&quot;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000">}</span></div><div>&nbsp;&nbsp;<span style="color: #000000">]</span></div><div><span style="color: #000000">);</span></div><div>&nbsp;</div><div><span style="color: #000000">expect</span><span style="color: #000000">(</span>onSubmit<span style="color: #000000">,</span>&nbsp;<span style="color: #df5000">&quot;to&nbsp;have&nbsp;calls&nbsp;satisfying&quot;</span><span style="color: #000000">,</span>&nbsp;<span style="color: #000000">()</span>&nbsp;<span style="color: #a71d5d">=&gt;</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;<span style="color: #000000">onSubmit</span><span style="color: #000000">({</span>&nbsp;username<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">'Sune&nbsp;Simonsen'</span><span style="color: #000000">,</span>&nbsp;password<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">'Secret...'</span>&nbsp;<span style="color: #000000">});</span></div><div><span style="color: #000000">});</span></div></div><p>For a case where we don&#39;t assert anything on the rendered structure after
issuing the events, it is probably more natural to use the
<a href="https://github.com/sunesimonsen/react-dom-testing#simulate">simulate</a> function
from <a href="https://github.com/sunesimonsen/react-dom-testing">react-dom-testing</a>
instead. This function is exported by unexpected-reaction as a convenience:</p>
<div class="code lang-javascript"><div><span style="color: #a71d5d">const</span>&nbsp;<span style="color: #000000">{</span>&nbsp;simulate&nbsp;<span style="color: #000000">}</span>&nbsp;<span style="color: #a71d5d">=</span>&nbsp;<span style="color: #000000">require</span><span style="color: #000000">(</span><span style="color: #df5000">'unexpected-reaction'</span><span style="color: #000000">);</span></div></div><p>Let&#39;s see that we get a validations messages if we submit the form without
entering any data:</p>
<div class="code lang-javascript"><div>onSubmit&nbsp;<span style="color: #a71d5d">=</span>&nbsp;sinon<span style="color: #000000">.</span><span style="color: #000000">spy</span><span style="color: #000000">()</span></div><div>&nbsp;</div><div><span style="color: #000000">expect</span><span style="color: #000000">(</span></div><div>&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>SignUpForm&nbsp;onSubmit<span style="color: #a71d5d">=</span><span style="color: #000000">{</span>onSubmit<span style="color: #000000">}</span>&nbsp;<span style="color: #a71d5d">/&gt;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;<span style="color: #df5000">&quot;when&nbsp;mounted&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;<span style="color: #df5000">&quot;with&nbsp;event&quot;</span><span style="color: #000000">,</span>&nbsp;<span style="color: #000000">{</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;type<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;click&quot;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;target<span style="color: #000000">:</span>&nbsp;<span style="color: #df5000">&quot;button&quot;</span></div><div>&nbsp;&nbsp;<span style="color: #000000">},</span></div><div>&nbsp;&nbsp;<span style="color: #df5000">'queried&nbsp;for'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #df5000">'.validation'</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;<span style="color: #df5000">'to&nbsp;satisfy'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #000000">[</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>span<span style="color: #a71d5d">&gt;</span>Username&nbsp;is&nbsp;required<span style="color: #000000">.</span><span style="color: #a71d5d">&lt;/</span>span<span style="color: #a71d5d">&gt;</span><span style="color: #000000">,</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>span<span style="color: #a71d5d">&gt;</span>Password&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;<span style="color: #0086b3">8</span>&nbsp;characters<span style="color: #000000">.</span><span style="color: #a71d5d">&lt;/</span>span<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #000000">]</span></div><div><span style="color: #000000">);</span></div><div>&nbsp;</div><div><span style="color: #000000">expect</span><span style="color: #000000">(</span>onSubmit<span style="color: #000000">,</span>&nbsp;<span style="color: #df5000">&quot;was&nbsp;not&nbsp;called&quot;</span><span style="color: #000000">);</span></div></div>
        </div>
    </div>
</section>
<script type="text/javascript">
    baseUrl = '../../..';
</script>
<script type="text/javascript" src="../../../static/toggleSidebar.js"></script>
<script type="text/javascript" src="../../../static/rememberScrollPosition.js"></script>
<script type="text/javascript" src="../../../static/focusMain.js"></script>
<script type="text/javascript" src="../../../static/search.js"></script>
</body>
</html>

